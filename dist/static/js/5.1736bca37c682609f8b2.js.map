{"version":3,"sources":["webpack:///static/js/5.1736bca37c682609f8b2.js","webpack:///./src/components/rank/rank.vue","webpack:///./src/api/rank.js?0518","webpack:///rank.vue","webpack:///./src/components/rank/rank.vue?559d","webpack:///./src/components/rank/rank.vue?5388","webpack:///./src/components/rank/rank.vue?b569"],"names":["webpackJsonp","582","module","exports","__webpack_require__","injectStyle","ssrContext","Component","595","__webpack_exports__","getTopList","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","needNewCode","platform","i","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","getMusicList","topid","page","type","tpl","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","n","602","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_api_rank__","__WEBPACK_IMPORTED_MODULE_2_api_config__","__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll___default","__WEBPACK_IMPORTED_MODULE_4_base_loading_loading__","__WEBPACK_IMPORTED_MODULE_4_base_loading_loading___default","__WEBPACK_IMPORTED_MODULE_5_common_js_mixin__","__WEBPACK_IMPORTED_MODULE_6_vuex__","mixins","topList","created","_this","this","setTimeout","_getTopList","methods","handlePlaylist","playlist","bottom","length","$refs","rank","style","toplist","refresh","selectItem","item","$router","push","path","id","setTopList","_this2","then","res","code","components","Scroll","a","Loading","610","version","sources","names","mappings","file","sourcesContent","sourceRoot","621","content","locals","634","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","_l","on","click","$event","stopPropagation","directives","name","rawName","expression","width","height","_v","song","index","_s","songname","singername","staticRenderFns"],"mappings":"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","file":"static/js/5.1736bca37c682609f8b2.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 582:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(621)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(602),\n  /* template */\n  __webpack_require__(634),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 595:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getTopList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getMusicList;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(57);\n\n\n\n\n// 获取排行榜数据\nfunction getTopList() {\n\tvar url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg';\n\n\tvar data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config__[\"b\" /* commonParams */], {\n\t\tneedNewCode: 1,\n\t\tplatform: 'h5'\n\t});\n\n\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\n// 获取排行榜歌单列表\nfunction getMusicList(topid) {\n\tvar url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg';\n\n\tvar data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config__[\"b\" /* commonParams */], {\n\t\tpage: 'detail',\n\t\ttype: 'top',\n\t\ttpl: 3,\n\t\tneedNewCode: 1,\n\t\tplatform: 'h5',\n\t\ttopid: topid\n\t});\n\n\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\n/***/ }),\n\n/***/ 602:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_api_rank__ = __webpack_require__(595);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_api_config__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_loading_loading__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_loading_loading___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_base_loading_loading__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_common_js_mixin__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vuex__ = __webpack_require__(49);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tmixins: [__WEBPACK_IMPORTED_MODULE_5_common_js_mixin__[\"c\" /* playlistMixin */]],\n\tdata: function data() {\n\t\treturn {\n\t\t\ttopList: []\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tvar _this = this;\n\n\t\tsetTimeout(function () {\n\t\t\t_this._getTopList();\n\t\t}, 1000);\n\t},\n\n\tmethods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n\t\t// 实现mixin中的方法\n\t\thandlePlaylist: function handlePlaylist(playlist) {\n\t\t\tvar bottom = playlist.length ? '60px' : '';\n\t\t\tthis.$refs.rank.style.bottom = bottom;\n\t\t\tthis.$refs.toplist.refresh();\n\t\t},\n\t\tselectItem: function selectItem(item) {\n\t\t\tthis.$router.push({\n\t\t\t\tpath: '/rank/' + item.id\n\t\t\t});\n\t\t\t// 在跳转的时候，将数据写入mutation\n\t\t\tthis.setTopList(item);\n\t\t},\n\t\t_getTopList: function _getTopList() {\n\t\t\tvar _this2 = this;\n\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_api_rank__[\"b\" /* getTopList */])().then(function (res) {\n\t\t\t\tif (res.code === __WEBPACK_IMPORTED_MODULE_2_api_config__[\"a\" /* ERR_OK */]) {\n\t\t\t\t\t_this2.topList = res.data.topList;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_vuex__[\"b\" /* mapMutations */])({\n\t\tsetTopList: 'SET_TOP_LIST'\n\t})),\n\tcomponents: {\n\t\tScroll: __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll___default.a,\n\t\tLoading: __WEBPACK_IMPORTED_MODULE_4_base_loading_loading___default.a\n\t}\n});\n\n/***/ }),\n\n/***/ 610:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(578)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".rank{position:fixed;width:100%;top:88px;bottom:0}.rank .toplist{height:100%;overflow:hidden}.rank .toplist .item{display:flex;margin:0 20px;padding-top:20px;height:100px}.rank .toplist .item:last-child{padding-bottom:20px}.rank .toplist .item .icon{flex:0 0 100px;width:100px;height:100px}.rank .toplist .item .songlist{flex:1;display:flex;flex-direction:column;justify-content:center;padding:0 20px;height:100px;overflow:hidden;background:#333;color:hsla(0,0%,100%,.3);font-size:12px}.rank .toplist .item .songlist .song{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:26px}.rank .toplist .loading-container{position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"/Applications/XAMPP/xamppfiles/htdocs/vue-music/src/components/rank/rank.vue\"],\"names\":[],\"mappings\":\"AACA,MACE,eAAgB,AAChB,WAAY,AACZ,SAAU,AACV,QAAU,CACX,AACD,eACE,YAAa,AACb,eAAiB,CAClB,AACD,qBACE,aAAc,AACd,cAAe,AACf,iBAAkB,AAClB,YAAc,CACf,AACD,gCACE,mBAAqB,CACtB,AACD,2BACE,eAAgB,AAChB,YAAa,AACb,YAAc,CACf,AACD,+BACE,OAAQ,AACR,aAAc,AACd,sBAAuB,AACvB,uBAAwB,AACxB,eAAgB,AAChB,aAAc,AACd,gBAAiB,AACjB,gBAAiB,AACjB,yBAA6B,AAC7B,cAAgB,CACjB,AACD,qCACE,uBAAwB,AACxB,gBAAiB,AACjB,mBAAoB,AACpB,gBAAkB,CACnB,AACD,kCACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,0BAA4B,CAC7B\",\"file\":\"rank.vue\",\"sourcesContent\":[\"\\n.rank {\\n  position: fixed;\\n  width: 100%;\\n  top: 88px;\\n  bottom: 0;\\n}\\n.rank .toplist {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.rank .toplist .item {\\n  display: flex;\\n  margin: 0 20px;\\n  padding-top: 20px;\\n  height: 100px;\\n}\\n.rank .toplist .item:last-child {\\n  padding-bottom: 20px;\\n}\\n.rank .toplist .item .icon {\\n  flex: 0 0 100px;\\n  width: 100px;\\n  height: 100px;\\n}\\n.rank .toplist .item .songlist {\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  padding: 0 20px;\\n  height: 100px;\\n  overflow: hidden;\\n  background: #333;\\n  color: rgba(255,255,255,0.3);\\n  font-size: 12px;\\n}\\n.rank .toplist .item .songlist .song {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  line-height: 26px;\\n}\\n.rank .toplist .loading-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 621:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(610);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(579)(\"56c5f71c\", content, true, {});\n\n/***/ }),\n\n/***/ 634:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"rank\",\n    staticClass: \"rank\"\n  }, [_c('scroll', {\n    ref: \"toplist\",\n    staticClass: \"toplist\",\n    attrs: {\n      \"data\": _vm.topList\n    }\n  }, [_c('ul', _vm._l((_vm.topList), function(item) {\n    return _c('li', {\n      staticClass: \"item\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.selectItem(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"icon\"\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.picUrl),\n        expression: \"item.picUrl\"\n      }],\n      attrs: {\n        \"width\": \"100\",\n        \"height\": \"100\"\n      }\n    })]), _vm._v(\" \"), _c('ul', {\n      staticClass: \"songlist\"\n    }, _vm._l((item.songList), function(song, index) {\n      return _c('li', {\n        staticClass: \"song\"\n      }, [_c('span', [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(song.songname) + \"-\" + _vm._s(song.singername))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.topList.length),\n      expression: \"!topList.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)]), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.1736bca37c682609f8b2.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-106fcaa0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-106fcaa0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rank.vue\n// module id = 582\n// module chunks = 5","import jsonp from 'common/js/jsonp'\nimport { commonParams, options } from './config'\n\n// 获取排行榜数据\nexport function getTopList () {\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\n\t\n\tconst data = Object.assign({}, commonParams, {\n\t\tneedNewCode: 1,\n\t\tplatform: 'h5'\n\t})\n\t\n\treturn jsonp(url, data, options)\n}\n\n// 获取排行榜歌单列表\nexport function getMusicList (topid) {\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\n\t\n\tconst data = Object.assign({}, commonParams, {\n\t\tpage: 'detail',\n\t\ttype: 'top',\n\t\ttpl: 3,\n\t\tneedNewCode: 1,\n\t\tplatform: 'h5',\n\t\ttopid\n\t})\n\t\n\treturn jsonp(url, data, options)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","<template>\n\t<div class=\"rank\" ref=\"rank\">\n\t\t<scroll :data=\"topList\" class=\"toplist\" ref=\"toplist\">\n\t\t\t<ul>\n\t\t\t\t<li class=\"item\" v-for=\"item in topList\" @click.stop=\"selectItem(item)\">\n\t\t\t\t\t<div class=\"icon\">\n\t\t\t\t\t\t<img width=\"100\" height=\"100\" v-lazy=\"item.picUrl\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"songlist\">\n\t\t\t\t\t\t<li class=\"song\" v-for=\"(song,index) in item.songList\">\n\t\t\t\t\t\t\t<span>{{index + 1}}</span>\n\t\t\t\t\t\t\t<span>{{song.songname}}-{{song.singername}}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"loading-container\" v-show=\"!topList.length\">\n\t\t\t\t<loading></loading>\n\t\t\t</div>\n\t\t</scroll>\n\t\t<router-view></router-view>\n\t</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\timport { getTopList } from 'api/rank'\n\timport { ERR_OK } from 'api/config'\n\timport Scroll from 'base/scroll/scroll'\n\timport Loading from 'base/loading/loading'\n\timport { playlistMixin } from 'common/js/mixin'\n\timport { mapMutations } from 'vuex'\n\n\texport default {\n\t\tmixins: [playlistMixin],\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\ttopList: []\n\t\t\t}\n\t\t},\n\t\tcreated () {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._getTopList()\n\t\t\t}, 1000)\n\t\t},\n\t\tmethods: {\n\t\t\t// 实现mixin中的方法\n\t\t\thandlePlaylist (playlist) {\n\t\t\t\tconst bottom = playlist.length ? '60px' : ''\n\t\t\t\tthis.$refs.rank.style.bottom = bottom\n\t\t\t\tthis.$refs.toplist.refresh()\n\t\t\t},\n\t\t\tselectItem (item) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: `/rank/${item.id}`\n\t\t\t\t})\n\t\t\t\t// 在跳转的时候，将数据写入mutation\n\t\t\t\tthis.setTopList(item)\n\t\t\t},\n\t\t\t_getTopList () {\n\t\t\t\tgetTopList().then((res) => {\n\t\t\t\t\tif (res.code === ERR_OK) {\n\t\t\t\t\t\tthis.topList = res.data.topList\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t...mapMutations({\n\t\t\t\tsetTopList: 'SET_TOP_LIST'\n\t\t\t})\n\t\t},\n\t\tcomponents: {\n\t\t\tScroll,\n\t\t\tLoading\n\t\t}\n\t}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n\t@import \"~common/stylus/variable\"\n\t@import \"~common/stylus/mixin\"\n\n\t.rank\n\t\tposition: fixed\n\t\twidth: 100%\n\t\ttop: 88px\n\t\tbottom: 0\n\t\t.toplist\n\t\t\theight: 100%\n\t\t\toverflow: hidden\n\t\t\t.item\n\t\t\t\tdisplay: flex\n\t\t\t\tmargin: 0 20px\n\t\t\t\tpadding-top: 20px\n\t\t\t\theight: 100px\n\t\t\t\t&:last-child\n\t\t\t\t\tpadding-bottom: 20px\n\t\t\t\t.icon\n\t\t\t\t\tflex: 0 0 100px\n\t\t\t\t\twidth: 100px\n\t\t\t\t\theight: 100px\n\t\t\t\t.songlist\n\t\t\t\t\tflex: 1\n\t\t\t\t\tdisplay: flex\n\t\t\t\t\tflex-direction: column\n\t\t\t\t\tjustify-content: center\n\t\t\t\t\tpadding: 0 20px\n\t\t\t\t\theight: 100px\n\t\t\t\t\toverflow: hidden\n\t\t\t\t\tbackground: $color-highlight-background\n\t\t\t\t\tcolor: $color-text-d\n\t\t\t\t\tfont-size: $font-size-small\n\t\t\t\t\t.song\n\t\t\t\t\t\tno-wrap()\n\t\t\t\t\t\tline-height: 26px\n\t\t\t.loading-container\n\t\t\t\tposition: absolute\n\t\t\t\twidth: 100%\n\t\t\t\ttop: 50%\n\t\t\t\ttransform: translateY(-50%)\n</style>\n\n\n// WEBPACK FOOTER //\n// rank.vue?01094881","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".rank{position:fixed;width:100%;top:88px;bottom:0}.rank .toplist{height:100%;overflow:hidden}.rank .toplist .item{display:flex;margin:0 20px;padding-top:20px;height:100px}.rank .toplist .item:last-child{padding-bottom:20px}.rank .toplist .item .icon{flex:0 0 100px;width:100px;height:100px}.rank .toplist .item .songlist{flex:1;display:flex;flex-direction:column;justify-content:center;padding:0 20px;height:100px;overflow:hidden;background:#333;color:hsla(0,0%,100%,.3);font-size:12px}.rank .toplist .item .songlist .song{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:26px}.rank .toplist .loading-container{position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"/Applications/XAMPP/xamppfiles/htdocs/vue-music/src/components/rank/rank.vue\"],\"names\":[],\"mappings\":\"AACA,MACE,eAAgB,AAChB,WAAY,AACZ,SAAU,AACV,QAAU,CACX,AACD,eACE,YAAa,AACb,eAAiB,CAClB,AACD,qBACE,aAAc,AACd,cAAe,AACf,iBAAkB,AAClB,YAAc,CACf,AACD,gCACE,mBAAqB,CACtB,AACD,2BACE,eAAgB,AAChB,YAAa,AACb,YAAc,CACf,AACD,+BACE,OAAQ,AACR,aAAc,AACd,sBAAuB,AACvB,uBAAwB,AACxB,eAAgB,AAChB,aAAc,AACd,gBAAiB,AACjB,gBAAiB,AACjB,yBAA6B,AAC7B,cAAgB,CACjB,AACD,qCACE,uBAAwB,AACxB,gBAAiB,AACjB,mBAAoB,AACpB,gBAAkB,CACnB,AACD,kCACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,0BAA4B,CAC7B\",\"file\":\"rank.vue\",\"sourcesContent\":[\"\\n.rank {\\n  position: fixed;\\n  width: 100%;\\n  top: 88px;\\n  bottom: 0;\\n}\\n.rank .toplist {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.rank .toplist .item {\\n  display: flex;\\n  margin: 0 20px;\\n  padding-top: 20px;\\n  height: 100px;\\n}\\n.rank .toplist .item:last-child {\\n  padding-bottom: 20px;\\n}\\n.rank .toplist .item .icon {\\n  flex: 0 0 100px;\\n  width: 100px;\\n  height: 100px;\\n}\\n.rank .toplist .item .songlist {\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  padding: 0 20px;\\n  height: 100px;\\n  overflow: hidden;\\n  background: #333;\\n  color: rgba(255,255,255,0.3);\\n  font-size: 12px;\\n}\\n.rank .toplist .item .songlist .song {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  line-height: 26px;\\n}\\n.rank .toplist .loading-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-106fcaa0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank/rank.vue\n// module id = 610\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-106fcaa0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rank.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"56c5f71c\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-106fcaa0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank/rank.vue\n// module id = 621\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"rank\",\n    staticClass: \"rank\"\n  }, [_c('scroll', {\n    ref: \"toplist\",\n    staticClass: \"toplist\",\n    attrs: {\n      \"data\": _vm.topList\n    }\n  }, [_c('ul', _vm._l((_vm.topList), function(item) {\n    return _c('li', {\n      staticClass: \"item\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.selectItem(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"icon\"\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.picUrl),\n        expression: \"item.picUrl\"\n      }],\n      attrs: {\n        \"width\": \"100\",\n        \"height\": \"100\"\n      }\n    })]), _vm._v(\" \"), _c('ul', {\n      staticClass: \"songlist\"\n    }, _vm._l((item.songList), function(song, index) {\n      return _c('li', {\n        staticClass: \"song\"\n      }, [_c('span', [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(song.songname) + \"-\" + _vm._s(song.singername))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.topList.length),\n      expression: \"!topList.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)]), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-106fcaa0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rank.vue\n// module id = 634\n// module chunks = 5"],"sourceRoot":""}